<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="description" content="Presentation de Symfony">
<meta name="author" content="Section BTS SIO SLAM (LDV Melun) O. Capuozzo, G. Chamillard">
<title>Symfony Introduction</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Symfony Introduction</h1>
<div class="details">
<span id="author" class="author">Section BTS SIO SLAM (LDV Melun) O. Capuozzo, G. Chamillard</span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2018-07-30</span>
<br><span id="revremark">Version asciidoc</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table des matieres</div>
<ul class="sectlevel1">
<li><a href="#présentation">Présentation</a></li>
<li><a href="#introduction-au-model">Introduction au Model</a>
<ul class="sectlevel2">
<li><a href="#Éléments-d-architecture">Éléments d&#8217;architecture</a></li>
<li><a href="#premiers-pas-avec-le-model">Premiers pas avec le model</a></li>
<li><a href="#travaux-pratiques">Travaux pratiques</a></li>
</ul>
</li>
<li><a href="#cas-du-formulaire">Cas du formulaire</a>
<ul class="sectlevel2">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#logique-de-traitement-du-formulaire">Logique de traitement du formulaire</a></li>
<li><a href="#logique-métier-du-formulaire">Logique métier du formulaire</a></li>
<li><a href="#rendu-du-formulaire">Rendu du formulaire</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="présentation"><a class="anchor" href="#présentation"></a>Présentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="images/logo-symfony.svg" alt="logo symfony" title="Symfony"></span></p>
</div>
<div class="paragraph">
<p>Symfony est une solution créée par la société <a href="https://sensiolabs.com">Sensiolabs</a> qui en assure l&#8217;évolution,
assitée par de  <a href="https://symfony.com/contributors">nombreux contributeurs</a>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Symfony est un ensemble de Composants PHP, un framework pour les Applications Web, une Philosophie, et une Communauté — tous travaillant ensemble, en harmonie.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Symfony<br>
<cite>Qu'est-ce que Symfony ? par Sensiolabs - a french company</cite>
</div>
</div>
<div class="paragraph">
<p>Cette introduction se base sur les ressources documentaires de Symfony (version 4), afin d&#8217;en faciliter le premier accès à des étudiants
développeurs ayant eu un premier contact avec le développement web.</p>
</div>
<div class="paragraph">
<p>Pour réaliser les travaux pratiques, vous aurez besoin d&#8217;aller plus en profondeur sur la connaissance des composants.
La documentation Symfony est accessible ici : <a href="https://symfony.com/doc/current/index.html" class="bare">https://symfony.com/doc/current/index.html</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction-au-model"><a class="anchor" href="#introduction-au-model"></a>Introduction au Model</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Éléments-d-architecture"><a class="anchor" href="#Éléments-d-architecture"></a>Éléments d&#8217;architecture</h3>
<div class="paragraph">
<p>Nous avons vu comment associer des <em>routes</em> à des <em>contrôleurs</em> (méthodes d&#8217;action d&#8217;une classe Controller).</p>
</div>
<div class="paragraph">
<p>Nous allons voir comment le contrôleur peut s&#8217;appuyer sur des <strong>objets métier</strong> pour <strong>implémenter une logique de cas d&#8217;utilisation</strong>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Il est courant de faire porter la responsabilité d&#8217;un cas d&#8217;utilisation à une classe contrôleur.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il existe 2 sortes d&#8217;objets métier : <code>Entity</code> et <code>EntityRepository</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Entity</code> : Représente une classe métier pour le domaine étudié (<code>Client</code>, <code>Contrat</code>, &#8230;&#8203;).</p>
</li>
<li>
<p><code>EntityRepository</code> : Est responsable de la communication avec le système de persistance, notamment en lien avec l' <code>ORM</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Le contrôleur dépend de <code>Entity</code> et <code>EntityRepository</code>, <code>Entity</code> ne dépend pas d&#8217;un ORM, <code>EntityRepository</code> si.</p>
</div>
<div class="paragraph">
<div class="title">Architecture vue en couches</div>
<p><span class="image"><img src="images/schema-interactions-couches.png" alt="Interactions vue en couches" width="600"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="premiers-pas-avec-le-model"><a class="anchor" href="#premiers-pas-avec-le-model"></a>Premiers pas avec le model</h3>
<div class="sect3">
<h4 id="guide"><a class="anchor" href="#guide"></a>Guide</h4>
<div class="paragraph">
<p>Faire le lien entre un objet (instance d&#8217;une classe Entity) et une ligne d&#8217;une table d&#8217;une base de données
est une opération complexe (synchronisation, mise en cache, cohérence de type, &#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>Les <strong>ORMs</strong> (<em>object-relational mapping</em>) sont des logiciels qui effectuent le lien entre <strong>objet métier</strong> et <strong>ligne</strong>
de table d&#8217;une base de données. Par défaut, symfony utilise la solution <a href="http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/">doctrine</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="tutoriel-doctrine-de-symfony"><a class="anchor" href="#tutoriel-doctrine-de-symfony"></a>Tutoriel doctrine de symfony</h4>
<div class="paragraph">
<p><code>Doctrine</code> peut être mise en oeuvre sans Symfony, mais nous vous invitons néanmoins à
étudier le tutoriel Doctrine avec Symfony, car ce dernier en simplifie l&#8217;accès.</p>
</div>
<div class="paragraph">
<p>Ce tutoriel vous montre comment lier une classe métier à une table d&#8217;une base de données, et donc une instance (un objet) à une ligne (occurrence d&#8217;une table),
et les opérations CRUD associées.</p>
</div>
<div class="paragraph">
<p>Tutoriel à suivre : <a href="https://symfony.com/doc/current/doctrine.html">Introduction à Doctrine avec Symfony</a> - Durée estimée : 2H (étude, configuration, codage des exemples et tests)</p>
</div>
<div class="paragraph">
<p>Au menu :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Entity et Table liée</p>
</li>
<li>
<p>Liaison Attribut - Colonne (<em>field</em> - <em>column</em>)</p>
</li>
<li>
<p>Migration modèle objet &#8592;&#8594; schéma de la base de données</p>
</li>
<li>
<p>Opérations CRUD</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>À l'<strong>issue de ce tutoriel (~2H)</strong>, vous réaliserez les travaux suivants :</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="travaux-pratiques"><a class="anchor" href="#travaux-pratiques"></a>Travaux pratiques</h3>
<div class="paragraph">
<p>Durée moyenne : 8H</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic" start="1">
<li>
<p>À partir de l&#8217;exemple étudié dans le tutoriel de Symfony sur la notion de <code>Model</code> (classe <code>Product</code>), réalisez les opérations permettant à un utilisateur lambda de :</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Lister les produits</p>
</li>
<li>
<p>Création d&#8217;un produit</p>
</li>
<li>
<p>Modifier un produit</p>
</li>
<li>
<p>Supprimer un produit</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Dans les vues twig, vos liens seront basés sur le <strong>nom</strong> des routes et non sur les routes elles-mêmes.
Ces noms sont consultatbles en ligne de commande : <code>php bin/console debug:router</code>. Voir aussi <a href="https://symfony.com/doc/current/templating.html#linking-to-pages" class="bare">https://symfony.com/doc/current/templating.html#linking-to-pages</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cas-du-formulaire"><a class="anchor" href="#cas-du-formulaire"></a>Cas du formulaire</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h3>
<div class="paragraph">
<p>La gestion de formulaires est un des points sensibles en développement web, comme l&#8217;est toute Entrée/Sortie d&#8217;une application.</p>
</div>
<div class="paragraph">
<p>De plus, l&#8217;utilisateur s&#8217;attend à la fois à une certaine ergonomie
(présentation de valeurs en base de données ou précédemment saisies
 par ce dernier) ainsi qu&#8217;au respect de la cohérence (prise en compte de la validité des données côté client et serveur).</p>
</div>
<div class="paragraph">
<p>Symfony intègre un composant nommé <code>form</code> qui prend en charge la gestion de formulaire.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre> composer require symfony/form</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce composant a sa propre documentation : <a href="https://symfony.com/doc/current/forms.html" class="bare">https://symfony.com/doc/current/forms.html</a></p>
</div>
</div>
<div class="sect2">
<h3 id="logique-de-traitement-du-formulaire"><a class="anchor" href="#logique-de-traitement-du-formulaire"></a>Logique de traitement du formulaire</h3>
<div class="paragraph">
<p>Dans sa version courante, un formulaire est lié à un objet métier (une classe Entity).</p>
</div>
<div class="paragraph">
<p>De plus, il intégère les propriétés importantes suivantes :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gestion des requêtes HTTP : prise en charge du traitement des demandes et des téléchargements de fichiers;</p>
</li>
<li>
<p>Protection CSRF: Prise en charge de la protection contre les attaques CSRF (Cross-Site-Request-Forgery);</p>
</li>
<li>
<p>Templating: Intégration d&#8217;une couche de présentation qui permet de réutiliser des fragments HTML lors du rendu d&#8217;un formulaire;</p>
</li>
<li>
<p>Traduction: Prise en charge de la traduction des messages d&#8217;erreur, des étiquettes de champs et d&#8217;autres chaînes;</p>
</li>
<li>
<p>Validation: Intégration d&#8217;une bibliothèque de validation pour générer des messages d&#8217;erreur pour les données soumises.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="logique-métier-du-formulaire"><a class="anchor" href="#logique-métier-du-formulaire"></a>Logique métier du formulaire</h3>
<div class="paragraph">
<p>Dans cette phase d&#8217;initiation, nous nous concentrerons principalement sur</p>
</div>
<div class="ulist">
<ul>
<li>
<p>la relation Formulaire ↔ Entité</p>
</li>
<li>
<p>la création/suppression/mise à jour via Doctrine (aperçus au chapitre précédent)</p>
</li>
<li>
<p>la mise en forme des champs de formulaire</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#8658; Devra être prolongée par l&#8217;étude des systèmes de validation des attributs côté client et serveur.</p>
</div>
<div class="sect3">
<h4 id="méthode-d-action-newxxx"><a class="anchor" href="#méthode-d-action-newxxx"></a>Méthode d&#8217;action newXXX</h4>
<div class="paragraph">
<p>Nous prendrons le cas de la création d&#8217;une instance d&#8217;une entité.</p>
</div>
<div class="paragraph">
<p>Dans ce cas, l&#8217;algorithme retenu par les concepteurs de Symfony et
celui d&#8217;une seule méthode d&#8217;action (une route) pour, à la fois,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Présenter le formulaire de création et, dans un second temps,</p>
</li>
<li>
<p>Effectuer le traitement de création  (impacter le système d&#8217;information).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Le pattern PRG (<a href="https://fr.wikipedia.org/wiki/Post-Redirect-Get" class="bare">https://fr.wikipedia.org/wiki/Post-Redirect-Get</a>) impose au développeur de fournir un ordre de redirection côté client comme réponse à toute action impactant le système (voir le lien si vous ne savez pas pourquoi).
De ce fait, la logique du formulaire sera basée sur l&#8217;algorithme représenté ci-après.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/algo-form.png" alt="algo form" width="323" height="665">
</div>
</div>
<div class="paragraph">
<p>En guise d&#8217;exemple, voici une méthode d&#8217;action typique.</p>
</div>
<div class="paragraph">
<p>Observez la mise en correspondance des étapes numérotées avec des lettres de l&#8217;algorithme (diagramme ci-dessus) avec les lignes du code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="php"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td>
  <td class="code"><pre><span class="keyword">use</span> <span class="constant">Symfony</span>\<span class="constant">Component</span>\<span class="constant">HttpFoundation</span>\<span class="constant">Request</span>;

<span class="keyword">public</span> <span class="keyword">function</span> <span class="function">new</span>(<span class="constant">Request</span> <span class="local-variable">$request</span>) <i class="conum" data-value="1"></i><b>(1)</b>
{
    <span class="comment">// création d'une instance d'entité</span>
    <span class="local-variable">$task</span> = <span class="keyword">new</span> <span class="constant">Task</span>();  <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="local-variable">$form</span> = <span class="local-variable">$this</span>-&gt;createFormBuilder(<span class="local-variable">$task</span>) <i class="conum" data-value="3"></i><b>(3)</b>
        -&gt;add(<span class="string"><span class="delimiter">'</span><span class="content">task</span><span class="delimiter">'</span></span>, <span class="constant">TextType</span>::<span class="keyword">class</span>)
        -&gt;add(<span class="string"><span class="delimiter">'</span><span class="content">dueDate</span><span class="delimiter">'</span></span>, <span class="constant">DateType</span>::<span class="keyword">class</span>)
        -&gt;add(<span class="string"><span class="delimiter">'</span><span class="content">save</span><span class="delimiter">'</span></span>, <span class="constant">SubmitType</span>::<span class="keyword">class</span>, <span class="predefined">array</span>(<span class="string"><span class="delimiter">'</span><span class="content">label</span><span class="delimiter">'</span></span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">Create Task</span><span class="delimiter">'</span></span>))
        -&gt;getForm();

    <span class="local-variable">$form</span>-&gt;handleRequest(<span class="local-variable">$request</span>); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="comment">// l'objet référencé par $task est mis à jour</span>

    <span class="keyword">if</span> (<span class="local-variable">$form</span>-&gt;isSubmitted() &amp;&amp; <span class="local-variable">$form</span>-&gt;isValid()) {  <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="comment">// $form-&gt;getData() holds the submitted values</span>

        <span class="local-variable">$task</span> = <span class="local-variable">$form</span>-&gt;getData();

        <span class="comment">// ... réalise quelques actions,</span>
        <span class="comment">//    comme sauvegarder task dans la base de données</span>
        <span class="comment">// $entityManager = $this-&gt;getDoctrine()-&gt;getManager();</span>
        <span class="comment">// $entityManager-&gt;persist($task); </span><i class="conum" data-value="6"></i><b>(6)</b>
        <span class="comment">// $entityManager-&gt;flush();</span>

        <span class="keyword">return</span> <span class="local-variable">$this</span>-&gt;redirectToRoute(<span class="string"><span class="delimiter">'</span><span class="content">task_success</span><span class="delimiter">'</span></span>); <i class="conum" data-value="7"></i><b>(7)</b>
    }

    <span class="keyword">return</span> <span class="local-variable">$this</span>-&gt;render(<span class="string"><span class="delimiter">'</span><span class="content">default/new.html.twig</span><span class="delimiter">'</span></span>, <span class="predefined">array</span>(  <i class="conum" data-value="8"></i><b>(8)</b> <i class="conum" data-value="9"></i><b>(9)</b>
        <span class="string"><span class="delimiter">'</span><span class="content">form</span><span class="delimiter">'</span></span> =&gt; <span class="local-variable">$form</span>-&gt;createView(),
    ));
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque la page est initialisée dans un navigateur,
le formulaire est simplement créé et présenté (<em>created and rendered</em>).</p>
</div>
<div class="paragraph">
<p>La première fois, la méthode <em>handleRequest()</em> reconnaît  que le formulaire n&#8217;est pas
soumis et ne fait donc rien.</p>
</div>
<div class="paragraph">
<p>La méthode <em>isValid()</em> retourne  false si le formulaire n&#8217;a pas reçu de data.
Une bonne pratique consiste cependant à s&#8217;assurer ques des données sont reçues (<em>isSubmitted()</em>) avant de tester leur validité !</p>
</div>
<div class="paragraph">
<p>Lorsque l&#8217;utilisateur soumet la requête avec des données, la méthode <em>handleRequest()</em>  transmet
ces données à l&#8217;instance de l&#8217;entité détenue par form.
Ensuite, si les données ne sont pas valides, alors elles sont de nouveau représentées
à l&#8217;utilisateur avec les erreurs. Sinon, la méthode isValid rend true, et le
développeur peut affiner un peu plus la situation avant de réaliser l&#8217;action cible
(ligne 20-21).</p>
</div>
<div class="paragraph">
<p>Afin d&#8217;éviter de devoir recoder la logique de createFormBuilder,
vous pouvez définir des Form/Type (une classe par entité -voir doc symfony)</p>
</div>
<div class="paragraph">
<p>Voici un autre exemple :</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/form-quizbe.png" alt="form-quizbe"></span></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
La création du l&#8217;objet Form (via createFormBuilder) est sous-traitée à une méthode privée de la classe (createCreateForm).
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rendu-du-formulaire"><a class="anchor" href="#rendu-du-formulaire"></a>Rendu du formulaire</h3>
<div class="paragraph">
<p>Exemple de rendu d&#8217;un formulaire associé à une entité Pays(Nom, AnnéeIndépendance)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">[...]

{% block content %}

{{ form(formulaire) }}  <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b>

{% endblock %}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>form() est une fonction qui traduit les structures internes php en une représentation HTML</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>'formulaire' dénote la variable passé par le controleur.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ce qui donne : <span class="image"><img src="images/form-pays-1.png" alt="form-pays-1"></span></p>
</div>
<div class="paragraph">
<p>Bien entendu, Symfony vous permet de prendre la main finement sur la présentation du formulaire.</p>
</div>
<div class="paragraph">
<p>Par exemple, en suivant les instructions d&#8217;usage de Bootstrap Twitter (<a href="http://getbootstrap.com/css/#forms" class="bare">http://getbootstrap.com/css/#forms</a>), nous appliquons de nouvelles classes CSS à nos éléments de formulaire (label, zone de message d&#8217;erreur, input) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">{% block content %}

{% set form = formulaire %}

{{ form_start(form,
   {'attr': {'role': 'form'}}
   ) }}
  {{ form_errors(form) }}

    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-group</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        {{ form_label(form.name) }}
        {{ form_errors(form.name) }}
        {{ form_widget(form.name,
           {'attr': {'class': 'form-control'}}
        )}}
    <span class="tag">&lt;/div&gt;</span>

    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-group</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        {{ form_label(form.indepYear) }}
        {{ form_errors(form.indepYear) }}
        {{ form_widget(form.indepYear,
          {'attr': {'class': 'form-control'}}
        )}}
    <span class="tag">&lt;/div&gt;</span>

    <span class="tag">&lt;button</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn btn-default</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
       Enregistrer
    <span class="tag">&lt;/button&gt;</span>

{{ form_end(form) }}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce qui donne.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/form-pays-2.png" alt="form-pays-2"></span></p>
</div>
<div class="paragraph">
<p>Exemple de code HTML généré par twig :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td>
  <td class="code"><pre>
<span class="tag">&lt;form</span> <span class="attribute-name">method</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">post</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-group</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form_name</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          Name
        <span class="tag">&lt;/label&gt;</span>

        <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form_name</span><span class="delimiter">&quot;</span></span>
          <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form[name]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">required</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span>
          <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-control</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Algeria</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/div&gt;</span>

    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-group</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;label</span> <span class="attribute-name">for</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form_indepYear</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          Indep year
        <span class="tag">&lt;/label&gt;</span>

        <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form_indepYear</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form[indepYear]</span><span class="delimiter">&quot;</span></span>
          <span class="attribute-name">required</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">required</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-control</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1962</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/div&gt;</span>

    <span class="tag">&lt;button</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn btn-default</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Enregistrer<span class="tag">&lt;/button&gt;</span>

    <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hidden</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form__token</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form[_token]</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">4c4d20ce63cb7b54836f6785b6d675b32be1954d</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/form&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>On remarquera le <code>token</code> de prévention CRSF (<em>Cross site request forgery</em>) en fin
de formulaire dans le but d&#8217;éviter qu&#8217;un site mal intentionné ne vous entraine à déclencher des actions à votre insue.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2018-09-20 16:08:24 CEST
</div>
</div>
</body>
</html>